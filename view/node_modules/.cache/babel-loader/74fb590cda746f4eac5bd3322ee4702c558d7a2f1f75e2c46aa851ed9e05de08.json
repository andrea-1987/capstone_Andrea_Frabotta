{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport sessionData from \"./session\";\nexport const handleCardClick = async work => {\n  _s();\n  const [selectedWork, setSelectedWork] = useState({});\n  setSelectedWork(work);\n  if (selectedWork) {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_SERVER_BASE_URL}/${sessionData.role}/${sessionData._id}/preferWorks`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${sessionData}`\n        },\n        body: JSON.stringify({\n          author: selectedWork.author,\n          title: selectedWork.title,\n          description: selectedWork.description,\n          img: selectedWork.img,\n          pubDate: selectedWork.pubDate,\n          location: selectedWork.location,\n          _id: selectedWork._id\n        })\n      });\n      if (response.ok) {} else {\n        console.error(\"Errore durante il salvataggio del lavoro:\", response.statusText);\n      }\n    } catch (error) {\n      console.error(\"Errore durante il salvataggio del lavoro:\", error);\n    }\n  }\n};\n_s(handleCardClick, \"d7xh2Qj07fa5P+GLX3sOJmp+yMs=\");","map":{"version":3,"names":["useState","sessionData","handleCardClick","work","_s","selectedWork","setSelectedWork","response","fetch","process","env","REACT_APP_SERVER_BASE_URL","role","_id","method","headers","Authorization","body","JSON","stringify","author","title","description","img","pubDate","location","ok","console","error","statusText"],"sources":["C:/Users/andre/OneDrive/Desktop/web developer/epicode/esercizi/capstone_Andrea_Frabotta/view/src/helper/saveInPreferWork.js"],"sourcesContent":["import {useState} from \"react\";\r\nimport sessionData from \"./session\";\r\n\r\nexport const handleCardClick = async (work) => {\r\n  const [selectedWork, setSelectedWork] = useState({});\r\n\r\n    setSelectedWork(work);\r\n    if (selectedWork) {\r\n      try {\r\n        const response = await fetch(\r\n          `${process.env.REACT_APP_SERVER_BASE_URL}/${sessionData.role}/${sessionData._id}/preferWorks`,\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${sessionData}`,\r\n            },\r\n            body: JSON.stringify({\r\n              author: selectedWork.author,\r\n              title: selectedWork.title,\r\n              description: selectedWork.description,\r\n              img: selectedWork.img,\r\n              pubDate: selectedWork.pubDate,\r\n              location: selectedWork.location,\r\n              _id: selectedWork._id,\r\n            }),\r\n          }\r\n        );\r\n\r\n        if (response.ok) {\r\n        } else {\r\n          console.error(\r\n            \"Errore durante il salvataggio del lavoro:\",\r\n            response.statusText\r\n          );\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Errore durante il salvataggio del lavoro:\", error);\r\n      }\r\n    }\r\n  };\r\n"],"mappings":";AAAA,SAAQA,QAAQ,QAAO,OAAO;AAC9B,OAAOC,WAAW,MAAM,WAAW;AAEnC,OAAO,MAAMC,eAAe,GAAG,MAAOC,IAAI,IAAK;EAAAC,EAAA;EAC7C,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC,CAAC;EAElDM,eAAe,CAACH,IAAI,CAAC;EACrB,IAAIE,YAAY,EAAE;IAChB,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEC,OAAO,CAACC,GAAG,CAACC,yBAA0B,IAAGV,WAAW,CAACW,IAAK,IAAGX,WAAW,CAACY,GAAI,cAAa,EAC7F;QACEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,aAAa,EAAG,UAASf,WAAY;QACvC,CAAC;QACDgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,MAAM,EAAEf,YAAY,CAACe,MAAM;UAC3BC,KAAK,EAAEhB,YAAY,CAACgB,KAAK;UACzBC,WAAW,EAAEjB,YAAY,CAACiB,WAAW;UACrCC,GAAG,EAAElB,YAAY,CAACkB,GAAG;UACrBC,OAAO,EAAEnB,YAAY,CAACmB,OAAO;UAC7BC,QAAQ,EAAEpB,YAAY,CAACoB,QAAQ;UAC/BZ,GAAG,EAAER,YAAY,CAACQ;QACpB,CAAC;MACH,CACF,CAAC;MAED,IAAIN,QAAQ,CAACmB,EAAE,EAAE,CACjB,CAAC,MAAM;QACLC,OAAO,CAACC,KAAK,CACX,2CAA2C,EAC3CrB,QAAQ,CAACsB,UACX,CAAC;MACH;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;IACnE;EACF;AACF,CAAC;AAACxB,EAAA,CArCSF,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}