"use strict";var t=require("react"),e=require("react/jsx-runtime"),o=require("react-router-dom");const n=t.createContext(null),r=()=>Object.assign({},t.useContext(n)),a="SET_LAST_LOCATION",s=(t,e)=>e.type===a?e.payload:t;const c=["key","pathname","search","hash"],i=[],l=t=>{const e=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]])}return o}(t,["state"]);i.push(e)},u=t=>i.some((e=>{return o=t,n=e,c.every((t=>o[t]===n[t]));var o,n}));exports.LastLocationContext=n,exports.LastLocationProvider=({children:r,watchOnlyPathname:c=!1})=>{const[i,p]=t.useState(null),L=o.useLocation(),[y,O]=t.useReducer(s,null),h={lastLocation:y,setLastLocation:t=>{O({type:a,payload:t})}},v=()=>{null===L||L===i||c&&(null==i?void 0:i.pathname)===L.pathname||(!(t=>{var e;return Boolean(null===(e=t.state)||void 0===e?void 0:e.preventLastLocation)})(L)||u(L)?h.setLastLocation(i):l(L))};return t.useEffect((()=>{v(),p(L)}),[L]),e.jsx(n.Provider,Object.assign({value:h},{children:r}))},exports.initialState=null,exports.useLastLocation=r,exports.withLastLocation=function(t){return o=>{const n=r();return e.jsx(t,Object.assign({},o,{lastLocation:n}))}};
